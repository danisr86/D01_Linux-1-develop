## Part 1. Установка ОС

### Установка `Ubuntu 20.04 Server LTS` без графического интерфейса.

- Узнать версию Ubuntu, выполнив команду  `cat /etc/issue`

![screen1](images/1.png)


## Part 2. Создание пользователя

### Создать пользователя, отличного от созданного при установке и переместить в группу adm. 

- Командой `sudo adduser linux02` создаем нового пользователя.

- Командой `sudo usermod -aG adm linux02` перемещаем пользователя в группу adm.

- Командой `groups linux02` проверяем.

    ![screen2](images/2.png)

- Новый пользователь в выводе команды `cat /etc/passwd`

    ![screen3](images/2.2.png)


## Part 3. Настройка сети ОС

    Сетевой интерфейс — это точка подключения двух частей сетевого оборудования или уровней протокола. Как правило, это представлено физической сетевой картой (NIC) для подключения между компьютером и частной или общедоступной сетью. 

### Задать название машины вида `user-1`.

![screen4](images/3.0.png)

### Установи временную зону, соответствующую твоему текущему местоположению.

![screen5](images/3.1.png)

### Выведи названия сетевых интерфейсов с помощью консольной команды.

![screen6](images/3.2.png)

    Один из самых основных виртуальных интерфейсов - `lo`. Это локальный сетевой интерфейс, который всегда указывает на текущий компьютер и позволяет программам обращаться к этому компьютеру.

### Используя консольную команду, получи ip адрес устройства, на котором ты работаешь, от DHCP-сервера.

![screen7](images/3.3.png)

    DHCP, --Dynamic Host Configuration Protocol - протокол динамической настройки узла — сетевой протокол, позволяющий сетевым устройствам автоматически получать IP-адрес и другие параметры, необходимые для работы в сети TCP/IP.

### Определи и выведи на экран внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw).

![screen8](images/3.4.png)

### Задай статичные (заданные вручную, а не полученные от DHCP-сервера) настройки ip, gw, dns (используй публичный DNS-серверы, например 1.1.1.1 или 8.8.8.8).

![screen9](images/3.5.png)

### Перезагрузи виртуальную машину. Убедись, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте.

![screen10](images/3.6.png)

### Успешно пропингуй удаленные хосты 1.1.1.1 и ya.ru и вставь в отчёт скрин с выводом команды. В выводе команды должна быть фраза «0% packet loss».

![screen11](images/3.7.png)


## Part 4. Обновление ОС

### Обнови системные пакеты до последней на момент выполнения задания версии.

- После обновления системных пакетов, если ввести команду обновления повторно, должно появиться сообщение о том, что обновления отсутствуют.

![screen12](images/4.png)


## Part 5. Использование команды sudo

    Sudo (англ. Substitute User and do, дословно «подменить пользователя и выполнить») — программа для системного администрирования UNIX-систем, позволяющая делегировать те или иные привилегированные ресурсы пользователям с ведением протокола работы. Основная идея — дать пользователям как можно меньше прав, при этом достаточных для решения поставленных задач.

### Разреши пользователю, созданному в Part 2,выполнять команду sudo.

![screen13](images/5.png)


## Part 6. Установка и настройка службы времени 

### Настрой службу автоматической синхронизации времени.

- Выведи время часового пояса, в котором ты сейчас находишься.

![screen14](images/6.png)


## Part 7. Установка и использование текстовых редакторов

### Установи текстовые редакторы VIM (+ любые два по желанию NANO, MCEDIT, JOE и т. д.)

![screen15](images/7.0.png)

### Используя каждый из трех выбранных редакторов, создай файл test_X.txt, где X — название редактора, в котором создан файл. Напиши в нём свой никнейм, закрой файл с сохранением изменений.

    Vim

![screen16](images/7.1.png)

- Нажал `Esc`, затем ввел `:wq` и нажал `Enter`.

    Nano

![screen17](images/7.2.png)

- Нажал `Ctrl+O`, чтобы сохранить изменения, затем `Enter` для подтверждения имени файла. Нажал `Ctrl+X`, чтобы выйти.

    Joe

![screen18](images/7.3.png)

- Нажал `Ctrl+K`, затем `Ctrl+X` для сохранения и выхода.

### Используя каждый из трех выбранных редакторов, открой файл на редактирование, отредактируй файл, заменив никнейм на строку «21 School 21», закрой файл без сохранения изменений.

    Vim

![screen19](images/7.4.png)

- Нажал `Esc`, затем ввел `:wq` и нажал `Enter`.

    Nano

![screen20](images/7.5.png)

- Нажал `Ctrl+x`, чтобы сохранить изменения нажал `Y`. Нажал `Enter` чтобы подтвердить имя файла.

    Joe

![screen21](images/7.6.png)

- Нажал `Ctrl+K`, затем `Ctrl+X` для сохранения и выхода.

### Используя каждый из трех выбранных редакторов, отредактируй файл ещё раз (по аналогии с предыдущим пунктом), а затем освой функции поиска по содержимому файла (слово) и замены слова на любое другое.

- Результаты с поиском слова.
    Vim

![screen22](images/7.7.png)

    Nano

![screen23](images/7.8.png)


    Joe

![screen24](images/7.9.png)

- Результаты с командами, введёнными для замены слова на другое.

    Vim

![screen25](images/7.10.png)

    Nano

![screen26](images/7.11.png)


    Joe

![screen27](images/7.12.png)


## Part 8. Установка и базовая настройка сервиса SSHD

### Установи службу SSHd.

![screen28](images/8.1.png)

### Добавь автостарт службы при загрузке системы.

![screen29](images/8.2.png)

### Перенастрой службу SSHd на порт 2022.

![screen30](images/8.3.png)

### Используя команду ps, покажи наличие процесса sshd. Для этого к команде нужно подобрать ключи.

- ps: Команда для отображения информации о текущих процессах.
- a: Показывает процессы всех пользователей, а не только процессы текущего пользователя.
- u: Показывает процессы с дополнительными подробностями, такими как владелец процесса, время запуска и используемые ресурсы.
- x: Показывает процессы, которые не связаны с терминалом (например, демоны, запущенные при старте системы).
- | grep sshd: grep используется для фильтрации вывода, чтобы показать только строки, содержащие "sshd".

![screen31](images/8.4.png)

### Перезагрузи систему.

- Для перезагрузки ввел команду `sudo reboot`.

### Вывод команды netstat -tan

    Netstat (network statistics) — утилита командной строки, выводящая на дисплей состояние TCP-соединений (как входящих, так и исходящих), таблицы маршрутизации, число сетевых интерфейсов и сетевую статистику по протоколам. Доступна в операционных системах семейства UNIX и Windows. Основное назначение утилиты — поиск сетевых проблем и определение производительности сети.

    -t - Отображение текущего подключения в состоянии переноса нагрузки с процессора на сетевой адаптер при передаче данных ( "offload" );

    -a - Отображение всех подключений и ожидающих портов;

    -n - Отображение адресов и номеров портов в числовом формате. Вывод активных подключений TCP с отображением адресов и номеров портов в числовом формате без попыток определения имен;

    - 0.0.0.0 в foreign address означает что никто не подключен.

    - 0.0.0.0 в local address означает listening on all interfaces.

    - Если в качестве адреса отображается 0.0.0.0 , то это означает - "любой адрес", т.е в соединении могут использоваться все IP-адреса существующие на данном компьютере.

![screen32](images/8.5.png)


## Part 9. Установка и использование утилит top, htop

### Установи и запусти утилиты top и htop.

![screen33](images/9.1.png)

- По выводу команды top определи и напиши в отчёте:

    UPTIME: 9 min
    Количество авторизованных пользователей: 2
    Средняя загрузка системы: 0.0,  0.0, 0.0
    Общее количество процессов: 98
    Загрузка CPU: 0,3 us, 0.3 sy, 0.0 ni, 99,3 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 st
    Загрузка памяти: 1971.6 total, 1231.6 free, 144.6 used, 595.4 buuf/cache
    PID процесса, занимающего больше всего памяти: snapd
    PID процесса, занимающего больше всего процессорного времени: snapd

- Выводы команды htop по:

    PID

![screen34](images/9.2.png)

    PERCENT_CPU

![screen35](images/9.3.png)

    PERCENT_MEM

![screen36](images/9.4.png)

    TIME

![screen37](images/9.5.png)

    отфильтрованному для процесса sshd

![screen38](images/9.6.png)

    с процессом syslog, найденным, используя поиск

![screen39](images/9.7.png)

    С добавленным выводом hostname, clock и uptime

![screen40](images/9.8.png)


## Part 10. Использование утилиты fdisk

### Запусти команду fdisk -l.

    Название жесткого диска: dev/sda
    Размер: 20 GiB
    Количество секторов: 41943040
    Размер swap: 1007.5 K

![screen41](images/10.png)


## Part 11. Использование утилиты df

### Запусти команду df.

    Размер раздела: 10218772 
    Размер занятого пространства: 4764560
    Размер свободного пространства: 4913540
    Процент использования: 50%
    Еденица измерения: Килобайты

![screen42](images/11.1.png)

### Запусти команду df -Th.

    Размер раздела: 9.8G 
    Размер занятого пространства: 4.6G
    Размер свободного пространства: 4.7G
    Процент использования: 50%
    Тип файловой системы: ext4

![screen43](images/11.2.png)


## Part 12. Использование утилиты du

### Запусти команду du. Выведи размер папок /home, /var, /var/log (в байтах, в человекочитаемом виде).

![screen44](images/12.1.png)

### Выведи размер всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *).

![screen45](images/12.2.png)


## Part 13. Установка и использование утилиты ncdu

### Установи утилиту ncdu. Выведи размер папок /home, /var, /var/log.

    /home

![screen46](images/13.1.png)

    /var

![screen47](images/13.2.png)

    var/log

![screen48](images/13.3.png)


## Part 14. Работа с системными журналами

### Открой для просмотра:

    1. /var/log/dmesg

![screen49](images/14.1.png)

    2. /var/log/syslog

![screen50](images/14.2.png)

    3. /var/log/auth.log
    
![screen51](images/14.3.png)

    Время последней успешной авторизации: 
    Имя пользователя: linux02
    Метод входа в систему: password

![screen52](images/14.4.png)

### Перезапусти службу SSHd.

- Вставь в отчёт скрин с сообщением о рестарте службы (искать в логах).

![screen53](images/14.5.png)


## Part 15. Использование планировщика заданий CRON

### Используя планировщик заданий, запусти команду uptime через каждые 2 минуты.

- Результаты в журнале о выполнение.

![screen54](images/15.1.png)

- Список текущих задач для CRON.

![screen55](images/15.2.png)

### Удали все задания из планировщика заданий.

![screen56](images/15.3.png)

